![image-20250714134027384](C:\Users\FanYang\AppData\Roaming\Typora\typora-user-images\image-20250714134027384.png)

以下是这些 Jenkins 常用构建后操作（Post - build Actions）选项的详细描述与用途：

### 1. Aggregate downstream test results

- **描述**：用于汇总下游项目（被当前项目触发构建的其他 Jenkins 项目 ）的测试结果。可以将多个相关联项目的测试数据整合在一起，方便统一查看整体测试情况，比如一个主项目依赖多个子模块项目，子模块构建后的测试结果可通过此选项聚合到主项目构建结果中 。
- **用途**：在存在多项目依赖、需统一把控测试覆盖范围和结果时，能直观呈现完整测试反馈，便于快速发现下游项目测试问题对整体的影响。

### 2. Archive the artifacts

- **描述**：将构建生成的工件（如编译后的可执行文件、打包好的 jar 包、报告文件等）进行归档存储。这些归档的文件可以在 Jenkins 界面中方便地查看、下载，即使构建完成后工作空间被清理，也能留存关键产出 。
- **用途**：用于长期保存构建产出物，方便后续版本追溯、问题排查（如下载历史版本的包进行测试复现），也支持团队成员获取构建成果用于部署、验证等操作。

### 3. Build other projects

- **描述**：配置当前项目构建成功（或满足特定条件）后，触发其他 Jenkins 项目的构建。可以设置触发的条件（如仅成功时触发、总是触发等 ）以及要触发的项目名称，实现项目之间的依赖和流水线式的构建流程 。
- **用途**：搭建自动化构建流水线，比如代码编译项目构建完成且成功后，自动触发打包项目、部署项目依次构建，推动软件交付流程自动化推进。

### 4. Publish HTML reports

- **描述**：用于发布 HTML 格式的报告（像代码质量检查报告、自定义的业务数据报告等 ）。 Jenkins 会托管这些 HTML 文件，使其可以通过 Jenkins 界面的链接直接访问查看，能设置报告的标题、路径等参数 。
- **用途**：让团队成员便捷查看构建过程中生成的各类 HTML 报告，无需到工作空间或其他存储位置查找，比如展示代码静态分析结果报告，辅助代码评审和质量把控。

### 5. Publish JUnit test result report

- **描述**：解析并发布 JUnit 格式的测试结果报告。 Jenkins 会读取符合 JUnit 规范的 XML 测试结果文件，在界面上以直观的图表、列表形式展示测试用例的执行情况（通过、失败、跳过等统计 ），方便快速了解测试覆盖和执行结果 。
- **用途**：广泛用于 Java 等项目基于 JUnit 框架的单元测试、集成测试结果展示，能清晰呈现测试健康度，辅助开发和测试人员定位测试失败问题，把控代码质量。

### 6. Record fingerprints of files to track usage

- **描述**：为文件记录指纹（基于文件内容生成的唯一标识 ），用于跟踪文件在不同构建、不同项目中的使用情况。通过指纹可以识别出哪些构建或项目使用了特定版本的文件，也能检测文件是否被修改、替换 。
- **用途**：在依赖管理、版本追溯场景中很有用，比如排查因依赖文件版本不一致导致的问题，确认某个 Jar 包在哪些构建中被使用过，辅助解决版本冲突、重复依赖等问题。

### 7. Git Publisher

- **描述**：用于在构建完成后，对 Git 仓库执行一些操作，比如推送提交（如构建过程中生成的变更文件、版本号更新提交等 ）、打标签等。可以配置 Git 仓库地址、认证信息以及具体要执行的 Git 命令相关参数 。
- **用途**：实现构建后自动同步变更到 Git 远端仓库，或者为成功构建的版本打标签做版本标记，便于版本管理和后续追溯，比如构建完成后把版本号更新记录推送到代码仓库，打上 release 标签。

### 8. Accept GitLab merge request on success

- **描述**：当 Jenkins 构建成功时，自动接受 GitLab 上对应的合并请求（Merge Request）。需要配置与 GitLab 的连接认证，让 Jenkins 能操作 GitLab 的 merge request 状态 。
- **用途**：在 GitLab -flow 工作流中，结合 Jenkins 构建验证，构建成功则自动合并代码到目标分支，简化代码合并流程，减少人工操作，加快交付节奏，前提是构建能有效验证代码质量符合要求 。

### 9. Add note with build status on GitLab merge requests

- **描述**：在 GitLab 的合并请求中添加当前 Jenkins 构建状态的备注信息。构建完成后，不管成功还是失败，都会把构建结果（如构建编号、结果、关键日志摘要等 ）以评论的形式添加到对应的 merge request 中 。
- **用途**：让 GitLab 上参与代码合并评审的人员，无需切换到 Jenkins 界面，就能在 merge request 里了解构建反馈，辅助判断是否可以合并代码，提升协同效率 。

### 10. Add vote for build status on GitLab merge requests

- **描述**：根据 Jenkins 构建结果，在 GitLab 的合并请求中进行投票（比如构建成功投赞成票，失败投反对票 ）。需要配置与 GitLab 的交互权限，实现构建状态到 merge request 投票的映射 。
- **用途**：作为代码合并准入的一个自动化判定标识，结合团队代码合并规则，比如只有构建投票赞成（即构建成功 ）时才允许合并，用自动化投票辅助人工评审决策 。

### 11. E-mail Notification

- **描述**：构建完成后，按照配置发送邮件通知。可以设置收件人、邮件主题、内容模板（包含构建结果、项目名称、构建编号等信息 ），支持根据构建成功或失败等不同状态发送不同通知 。
- **用途**：及时告知相关人员（开发、测试、运维等 ）构建结果，方便关注项目构建情况，比如开发人员收到失败邮件可及时排查问题，测试人员收到成功邮件可开展后续测试流程 。

### 12. Editable Email Notification

- **描述**：比基础的 “E-mail Notification” 更灵活的邮件通知配置。可以自定义邮件的收件人列表（支持动态变量，如根据项目角色、构建参数等指定 ）、邮件内容模板（使用令牌宏插入构建相关信息 ）、触发条件（不同构建状态、不同阶段等触发不同邮件 ）等 。
- **用途**：满足复杂的邮件通知需求，比如针对不同环境（开发、测试、生产 ）的构建，发送给不同的关注人群；或者构建失败时发送详细日志邮件给开发，成功时发送简洁通知给测试，精细化通知管理 。

### 13. Publish build status to GitLab

- **描述**：将 Jenkins 构建状态（成功、失败、进行中等 ）同步更新到 GitLab 对应项目的构建状态展示区域。需要配置 Jenkins 与 GitLab 的关联，让状态能准确同步 。
- **用途**：在 GitLab 界面中直观呈现 Jenkins 构建反馈，方便 GitLab 上参与代码协作的人员快速了解构建进展和结果，和 GitLab 自身的 CI/CD 状态展示形成补充或替代（当使用 Jenkins 做 CI 时 ） 。

### 14. Set GitHub commit status (universal)

- **描述**：用于更新 GitHub 上对应提交（Commit）的状态。构建过程中或完成后，将构建状态（如 pending、success、failure 等 ）同步到 GitHub 提交记录上，让 GitHub 界面能展示 Jenkins 构建反馈 。
- **用途**：在 GitHub 协作场景中，辅助团队成员通过 GitHub 提交记录直接了解构建结果，判断代码提交是否 “健康”，结合分支保护规则（如只有构建成功的提交才能合并 ），可作为代码合并的前置校验 。

### 15. Set build status on GitHub commit [deprecated]

- **描述**：功能和 “Set GitHub commit status (universal)” 类似，但已被标记为废弃（deprecated）。原本也是用于更新 GitHub 提交的构建状态，不过因功能迭代等原因，建议使用更通用、更完善的替代选项 。
- **用途**：旧项目中可能还在使用，新配置不建议采用，逐步迁移到 “Set GitHub commit status (universal)” 等有效方式，避免因后续 Jenkins 版本升级导致功能失效或问题 。

### 16. Delete workspace when build is done

- **描述**：构建完成后，删除 Jenkins 为该次构建分配的工作空间目录。工作空间是构建过程中存放代码、生成文件等的临时目录，删除后可释放磁盘空间 。
- **用途**：当构建频繁、工作空间占用磁盘较大时，用于定期清理空间，避免磁盘爆满影响 Jenkins 运行，但要注意如果有需要留存的文件（未归档的 ），清理后无法再获取，需结合 “Archive the artifacts” 等操作配合使用 。



这些选项共同支撑起 Jenkins 构建后丰富的自动化流程，从结果展示、通知协同到环境清理、上下游联动等，助力打造完整的持续集成 / 持续交付（CI/CD ）流水线 。