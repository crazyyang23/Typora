### **1. `$remote_addr`**

- **含义**：客户端的IP地址。
- **细节**：直接与Nginx建立连接的客户端IP。如果有反向代理（如CDN、负载均衡器），此值为代理服务器的IP，而非最终用户的IP。
- **示例**：`192.168.1.100`

------

### **2. `$remote_user`**

- **含义**：通过HTTP基础认证的用户名。
- **细节**：如果请求未使用认证，此值为空（`-`）。
- **示例**：`admin` 或 `-`

------

### **3. `$time_local`**

- **含义**：请求的本地时间（Nginx服务器时间）。
- **格式**：`[日/月/年:时:分:秒 时区]`。
- **示例**：`[25/May/2023:14:30:22 +0800]`

------

### **4. `$request`**

- **含义**：完整的HTTP请求行，包括方法、URI和协议版本。
- **格式**：`"METHOD URI HTTP/VERSION"`。
- **示例**：`"GET /index.html HTTP/1.1"`

------

### **5. `$status`**

- **含义**：HTTP响应状态码。
- **常见值**：`200`（成功）、`404`（未找到）、`500`（服务器错误）等。
- **示例**：`200`

------

### **6. `$body_bytes_sent`**

- **含义**：发送给客户端的响应体字节数（不含响应头）。
- **细节**：若请求是`HEAD`或无内容（如`304 Not Modified`），此值为`0`。
- **示例**：`1024`

------

### **7. `$http_referer`**

- **含义**：请求的来源页面URL（即浏览器从哪个页面跳转而来）。
- **细节**：直接访问页面时此值为空（`-`）。
- **示例**：`"https://www.google.com/"` 或 `-`

------

### **8. `$http_user_agent`**

- **含义**：客户端浏览器或工具的标识信息。
- **细节**：包含浏览器类型、版本、操作系统等信息。
- **示例**：`"Mozilla/5.0 (Windows NT 10.0; Win64; x64) Chrome/91.0.4472.124"`

------

### **9. `$http_x_forwarded_for`**

- **含义**：客户端原始IP地址（经过代理时由代理服务器添加）。
- **细节**：多级代理时可能包含多个IP，格式为`客户端IP, 代理1IP, 代理2IP`。
- **示例**：`"192.168.1.100, 10.0.0.1"`

------

### **10. `$http_x_forwarded_port`**

- **含义**：客户端原始请求的端口（由代理服务器添加）。
- **细节**：常用于反向代理场景，标识用户实际访问的端口。
- **示例**：`"443"`

------

### **11. `$http_port`**

- **含义**：当前请求的端口（可能存在歧义，需谨慎使用）。
- **细节**：
  - 如果是直接访问Nginx，此值为Nginx监听的端口（如`80`或`443`）。
  - 如果经过反向代理，可能为代理服务器的端口。
  - **注意**：此变量非Nginx核心变量，可能是自定义或拼写错误（标准变量应为`$server_port`）。

------

### **12. `rt=$request_time`**

- **含义**：请求处理总时间（从读取客户端第一个字节到发送完响应）。
- **单位**：秒（含毫秒精度，如`0.005`表示5毫秒）。
- **用途**：分析接口性能。

------

### **13. `uct="$upstream_connect_time"`**

- **含义**：与上游服务器建立连接的时间。
- **单位**：秒（含毫秒精度）。
- **细节**：若使用长连接或连接池，此值可能为`0`（复用现有连接）。

------

### **14. `uht="$upstream_header_time"`**

- **含义**：从Nginx向上游发送请求到接收完响应头的时间。
- **单位**：秒（含毫秒精度）。
- **用途**：衡量上游服务器的处理速度。

------

### **15. `urt="$upstream_response_time"`**

- **含义**：从Nginx向上游发送请求到接收完响应体的总时间。
- **单位**：秒（含毫秒精度）。
- **细节**：若多次重试上游服务器，此值可能包含多个时间（逗号分隔）。

------

### **注意事项**

1. **代理场景**：`$remote_addr` 和 `$http_x_forwarded_for` 需结合使用以获取真实用户IP。
2. **时间单位**：所有时间相关变量均以秒为单位，精确到毫秒（如`0.123`）。
3. **变量拼写**：确保变量名正确，例如`$http_port` 可能是 `$server_port` 的误写。
4. **安全性**：日志中的敏感信息（如`Cookie`、`Authorization`）需避免记录。

------

通过此日志格式，可以全面分析客户端行为、请求性能及上游服务状态。